from bokeh.models import ColorBar, LinearColorMapper
from bokeh import palettes


def add_grid(p):
    
    p.xgrid[0].level = 'overlay'
    p.ygrid[0].level = 'overlay'
    
    p.xgrid.grid_line_color = 'grey'
    p.ygrid.grid_line_color = 'grey'
    p.ygrid.minor_grid_line_color = 'grey'
    p.xgrid.minor_grid_line_color = 'grey'

    p.xgrid.grid_line_alpha = 0.5
    p.ygrid.grid_line_alpha = 0.5
    p.xgrid.grid_line_width = 0.5
    p.ygrid.grid_line_width = 0.5

    p.xgrid.minor_grid_line_width = 0.2
    p.ygrid.minor_grid_line_width = 0.2

    
def style_legend(p):
    
    p.legend.orientation = "vertical"
    p.legend.location = "top_left"
    
def name_axes(p):
    
    p.xaxis.axis_label = 'Longitude'
    p.yaxis.axis_label = 'Latitude'
    
    
def add_colorbar(p,heat_df):
    colormap = LinearColorMapper(palette=palettes.Inferno256,low=int(heat_df['count'].min()),high=int(heat_df['count'].max()))
    colorbar = ColorBar(color_mapper=colormap,location=(3,3),title="title")

    p.add_layout(colorbar,'left')

def style_glyph(r):
    
    r.glyph.size = 15
    r.glyph.fill_alpha = 0.5
    r.glyph.line_color = "firebrick"
    r.glyph.line_dash = [5, 1]
    r.glyph.line_width = 0.5
    #r.glyph.fill_color = "green"
